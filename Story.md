To reach the search functionality of Customers based on Loan Application Amount and status, basically I would extract all the records that matches on loan table with the parameters values, then using the embedded users I would finally search joining the customers table to get the final records.